(this.webpackJsonpstranger=this.webpackJsonpstranger||[]).push([[0],{139:function(e,t,a){},178:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a(0),c=a.n(n),r=a(9),i=a.n(r),o=(a(139),a(16)),l=a(21),u=Object(l.a)(),j=a(12),d="https://strangers-things.herokuapp.com/api/COHORT-NAME",b="REGISTER_REQUEST",m="REGISTER_SUCCESS",p="REGISTER_FAILURE",O="LOGIN_REQUEST",h="LOGIN_SUCCESS",f="LOGIN_FAILURE",g="LOGOUT",x="SET_MESSAGE",S="CLEAR_MESSAGE",E={FETCH_POSTS_REQUEST:"FETCH_POSTS_REQUEST",FETCH_POSTS_SUCCESS:"FETCH_POSTS_SUCCESS",FETCH_POSTS_FAILURE:"FETCH_POSTS_FAILURE",ADD_POST_REQUEST:"ADD_POST_REQUEST",ADD_POST_SUCCESS:"ADD_POST_SUCCESS",ADD_POST_FAILURE:"ADD_POST_FAILURE",DELETE_POST_REQUEST:"DELETE_POST_REQUEST",DELETE_POST_SUCCESS:"DELETE_POST_SUCCESS",DELETE_POST_FAILURE:"DELETE_POST_FAILURE",SEND_MESSAGE_REQUEST:"SEND_MESSAGE_REQUEST",SEND_MESSAGE_SUCCESS:"SEND_MESSAGE_SUCCESS",SEND_MESSAGE_FAILURE:"SEND_MESSAGE_FAILURE"},v=a(35),y=a.n(v),_=function(e){localStorage.setItem("access_token",e)},T=function(){return localStorage.getItem("access_token")},C=function(){var e=T();return e?{Authorization:"Bearer "+e}:{}},N=function(e,t){return new Promise((function(a,s){y.a.post(d+"/users/register",{user:{username:e,password:t}}).then((function(e){var t=e.data.data;_(t.token),a(t)})).catch((function(e){var t=e.response.data;s(t.error)}))}))},P=function(e,t){return new Promise((function(a,s){y.a.post(d+"/users/login",{user:{username:e,password:t}}).then((function(e){var t=e.data.data;_(t.token),a(t)})).catch((function(e){var t=e.response.data;s(t.error)}))}))},D=function(){localStorage.removeItem("access_token")},w=function(){return new Promise((function(e,t){y.a.get(d+"/test/me",{headers:C()}).then((function(t){var a=t.data.data;e(a)})).catch((function(e){var a=e.response.data;t(a.error)}))}))},A=function(){return new Promise((function(e,t){y.a.get(d+"/posts",{headers:C()}).then((function(t){var a=t.data.data;e(a)})).catch((function(e){var a=e.response.data;t(a.error)}))}))},F=function(e){return new Promise((function(t,a){y.a.post(d+"/posts",{post:e},{headers:C()}).then((function(e){var a=e.data.data;t(a)})).catch((function(e){var t=e.response.data;a(t.error)}))}))},U=function(e){return new Promise((function(t,a){y.a.delete(d+"/posts/"+e,{headers:C()}).then((function(e){var a=e.data.data;t(a)})).catch((function(e){var t=e.response.data;a(t.error)}))}))},k=function(e,t){return new Promise((function(a,s){y.a.post(d+"/posts/"+e+"/messages",{message:{content:t}},{headers:C()}).then((function(e){var t=e.data.data;a(t)})).catch((function(e){var t=e.response.data;s(t.error)}))}))},R={register:function(e,t){return function(a){return a({type:b}),N(e,t).then((function(t){a({type:m,payload:e}),a({type:x,payload:{message:t.message,success:!0}})})).catch((function(e){a({type:p,payload:e.message}),a({type:x,payload:{message:e.message,success:!1}})}))}},login:function(e,t){return function(a){return a({type:O}),P(e,t).then((function(t){a({type:h,payload:e}),a({type:x,payload:{message:t.message,success:!0}})})).catch((function(e){a({type:f,payload:e.message}),a({type:x,payload:{message:e.message,success:!1}})}))}},logout:function(){return function(e){D(),e({type:g}),e({type:x,payload:{message:"You logged out!",success:!0}})}},isLoggedIn:function(){return function(e){return e({type:O}),w().then((function(t){e({type:h,payload:t.user.username}),e({type:x,payload:{message:t.message,success:!0}})})).catch((function(t){e(R.logout()),e({type:x,payload:{message:t.message,success:!1}})}))}}},L=function(){return function(e){return e({type:E.FETCH_POSTS_REQUEST}),A().then((function(t){e({type:E.FETCH_POSTS_SUCCESS,payload:t.posts}),e({type:x,payload:{message:"All posts successfully fetched",success:!0}})})).catch((function(t){e({type:E.FETCH_FAIL,payload:t.message}),e({type:x,payload:{message:t.message,success:!1}})}))}},I=function(e){return function(t){return t({type:E.ADD_POST_REQUEST}),F(e).then((function(e){t({type:E.ADD_POST_SUCCESS,payload:e.post}),t({type:x,payload:{message:"Post successfully added",success:!0}})})).catch((function(e){t({type:E.ADD_POST_FAILURE,payload:e.message}),t({type:x,payload:{message:e.message,success:!1}})}))}},G=function(e){return function(t){return t({type:E.DELETE_POST_REQUEST}),U(e).then((function(a){t({type:E.DELETE_POST_SUCCESS,payload:e}),t({type:x,payload:{message:"Successfully deleted",success:!0}})})).catch((function(e){t({type:E.DELETE_POST_FAILURE,payload:e.message}),t({type:x,payload:{message:e.message,success:!1}})}))}},M=function(e,t){return function(a){return a({type:E.SEND_MESSAGE_REQUEST}),k(e,t).then((function(t){a({type:E.SEND_MESSAGE_SUCCESS,payload:{id:e,message:t.message}}),a({type:x,payload:{message:"Successfully message sent",success:!0}})})).catch((function(e){a({type:E.SEND_MESSAGE_FAILURE}),a({type:x,payload:{message:e.message,success:!1}})}))}},Q=function(e){var t=e.children,a=Object(j.b)();return T()&&a(R.isLoggedIn()),Object(s.jsx)(s.Fragment,{children:t})},z=a(11),H=a(17),B=a(216),J=a(219),q=a(222),Y=a(105),W=a.n(Y),K=a(119),V=a(237),X=Object(B.a)((function(e){return{root:{width:"95%",marginBottom:"20px",display:"flex",flexDirection:"column",justifyContent:"flex-start",color:"Black",paddingLeft:"1em",paddingRight:"1em",position:"relative",marginTop:"2em"},search:{paddingLeft:".8rem",paddingRight:".8rem",paddingTop:".6rem",paddingBottom:".6rem","& .input-wrapper":{borderRadius:"2.4rem",display:"flex",width:"300px",color:"rgba(0, 0, 0, 0.97)",transition:"box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",backgroundColor:"#FFFFFF",position:"relative","& .img-btn":{fontSize:"1.4em",paddingRight:"",marginRight:"0.6em",marginTop:"0.3em"}}}}})),Z=function(){var e=X(),t=Object(j.c)((function(e){return e.posts})).posts,a=Object(n.useState)(""),c=Object(H.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)([]),l=Object(H.a)(o,2),u=l[0],d=l[1],b=Object(j.b)(),m=Object(n.useCallback)((function(e){var t=e.target.value;i(t)}),[]),p=Object(n.useCallback)((function(e,t){return e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)}),[]);return Object(n.useEffect)((function(){b(L())}),[]),Object(n.useEffect)((function(){d(t.filter((function(e){return p(e,r)})))}),[t,r]),Object(s.jsxs)(J.a,{className:e.root,children:[Object(s.jsx)("form",{className:e.search,children:Object(s.jsxs)(K.a,{className:"input-wrapper",elevation:3,children:[Object(s.jsx)(V.a,{autoFocus:!1,name:"search",className:"flex-1",InputProps:{disableUnderline:!0,classes:{root:"flex flex-grow flex-no-shrink ml-16 mr-28 my-8 text-9",input:""},placeholder:"Search posts..."},InputLabelProps:{shrink:!1,className:e.bootstrapFormLabel},value:r,onChange:m}),Object(s.jsx)(W.a,{className:"img-btn"})]})}),Object(s.jsx)(q.a,{container:!0,children:u&&u.map((function(e){return Object(s.jsx)(Fe,Object(z.a)({},e),e._id)}))})]})},$=a(242),ee=a(224),te=a(225),ae=a(228),se=a(240),ne=a(226),ce=a(50),re=a(73),ie=a(110),oe=a.n(ie),le=a(109),ue=a.n(le),je=a(107),de=a.n(je),be=a(111),me=a.n(be),pe=a(108),Oe=a.n(pe),he=a(113),fe=a.n(he),ge=a(112),xe=a.n(ge),Se=a(114),Ee=a.n(Se),ve=a(239),ye=a(232),_e=a(230),Te=a(231),Ce=a(229),Ne=a(223),Pe=a(233),De=c.a.forwardRef((function(e,t){return Object(s.jsx)(Ne.a,Object(z.a)({direction:"up",ref:t},e))})),we=Object(B.a)((function(e){return{root:{width:"95%",marginBottom:"20px",display:"flex",flexDirection:"column",justifyContent:"flex-start",color:"Black",paddingLeft:"1em",paddingRight:"1em",position:"relative",marginTop:"2em"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:re.a[500]},action:{outline:"none"},message:{paddingLeft:".8rem",paddingRight:".8rem",paddingTop:".6rem",paddingBottom:".6rem","& .input-wrapper":{borderRadius:"2.4rem",display:"flex",color:"rgba(0, 0, 0, 0.97)",transition:"box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",backgroundColor:"#FFFFFF",position:"relative","& .icon-btn":{position:"absolute",top:"0",right:"0",padding:"8px",fontSize:"1.6em","& .img-btn":{fontSize:"0.8em",paddingRight:""}}}}}})),Ae=["January","February","March","April","May","June","July","August","September","October","November","December"],Fe=function(e){var t=e._id,a=e.title,r=e.description,i=e.author,l=(e.active,e.messages),u=e.price,d=e.isAuthor,b=e.location,m=e.willDeliver,p=e.createdAt,O=Object(j.b)(),h=c.a.useState(!1),f=Object(H.a)(h,2),g=f[0],x=f[1],S=function(){x(!1)},E=we(),v=Object(n.useMemo)((function(){var e=new Date(p);return Ae[e.getMonth()]+" "+(e.getDate()-1)+", "+e.getFullYear()}),[]),y=Object(j.c)((function(e){return e.authorization})).user,_=Object(o.g)(),T=Object(n.useState)(""),C=Object(H.a)(T,2),N=C[0],P=C[1],D=c.a.useState(!1),w=Object(H.a)(D,2),A=(w[0],w[1],Object(n.useCallback)((function(e){var t=e.target.value;P(t)}),[N])),F=Object(n.useCallback)((function(e){O(G(e))}),[]),U=Object(n.useCallback)((function(e){e.preventDefault(),y?(O(M(t,N)),P("")):_.push("/signin")}),[N]);return Object(s.jsxs)(q.a,{container:!0,item:!0,sm:6,children:[Object(s.jsxs)(ee.a,{className:E.root,children:[Object(s.jsx)(te.a,{avatar:Object(s.jsx)(se.a,{"aria-label":"recipe",className:E.avatar,children:i.username[0].toUpperCase()}),action:d&&Object(s.jsx)(ne.a,{"aria-label":"settings",onClick:function(){x(!0)},children:Object(s.jsx)($.a,{title:"Delete",children:Object(s.jsx)(de.a,{})})}),title:a+": By "+i.username,subheader:v}),Object(s.jsxs)(ae.a,{children:[Object(s.jsxs)(ce.a,{variant:"body2",color:"textPrimary",component:"p",children:[Object(s.jsx)($.a,{title:"Description",children:Object(s.jsx)(Oe.a,{})})," : ",r]}),Object(s.jsxs)(ce.a,{variant:"body2",color:"textPrimary",component:"p",children:[Object(s.jsx)($.a,{title:"Price",children:Object(s.jsx)(ue.a,{})})," : ",u]}),Object(s.jsxs)(ce.a,{variant:"body2",color:"textPrimary",component:"p",children:[Object(s.jsx)($.a,{title:"Location",children:Object(s.jsx)(oe.a,{})}),": ",b]}),Object(s.jsxs)(ce.a,{variant:"body2",color:"textPrimary",component:"p",children:[Object(s.jsx)($.a,{title:"Deliverable",children:Object(s.jsx)(me.a,{})})," : ",m?"Yes":"No"]}),!d&&Object(s.jsx)("div",{className:"mt-20",children:Object(s.jsx)("form",{onSubmit:U,className:E.message,children:Object(s.jsxs)(K.a,{className:"input-wrapper",elevation:3,children:[Object(s.jsx)(V.a,{autoFocus:!1,name:"message",className:"flex-1",InputProps:{disableUnderline:!0,classes:{root:"flex flex-grow flex-no-shrink ml-16 mr-28 my-8 text-9",input:""},placeholder:"Type your message"},InputLabelProps:{shrink:!1,className:E.bootstrapFormLabel},value:N,onChange:A}),Object(s.jsx)(ne.a,{type:"submit",className:"icon-btn",children:Object(s.jsx)($.a,{title:"Send Message",children:Object(s.jsx)(xe.a,{className:"img-btn"})})})]})})}),d&&Object(s.jsxs)(ce.a,{variant:"body2",color:"textPrimary",component:"div",children:[Object(s.jsx)($.a,{title:"Messages",children:Object(s.jsx)(fe.a,{})}),": ",l.length?l.map((function(e){return Object(s.jsxs)("p",{children:[e.fromUser.username," ",Object(s.jsx)(Ee.a,{})," ",e.content]},e._id)})):"No message"]})]})]}),Object(s.jsxs)(ve.a,{open:g,TransitionComponent:De,keepMounted:!0,onClose:S,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(s.jsx)(Ce.a,{id:"alert-dialog-slide-title",children:"Delete your post?"}),Object(s.jsx)(_e.a,{children:Object(s.jsx)(Te.a,{id:"alert-dialog-slide-description",children:"This post will be deactivated if you click Agree."})}),Object(s.jsxs)(ye.a,{children:[Object(s.jsx)(Pe.a,{onClick:S,color:"primary",children:"Disagree"}),Object(s.jsx)(Pe.a,{onClick:function(){return F(t)},color:"primary",children:"Agree"})]})]})]})},Ue=a(44),ke=a.n(Ue),Re=a(23),Le=a.n(Re),Ie=a(45),Ge=a.n(Ie),Me=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useState)(""),c=Object(H.a)(a,2),r=c[0],i=c[1],l=Object(n.useState)(""),u=Object(H.a)(l,2),d=u[0],b=u[1],m=Object(n.useState)(""),p=Object(H.a)(m,2),O=p[0],h=p[1],f=Object(n.useState)(""),g=Object(H.a)(f,2),x=g[0],S=g[1],E=Object(n.useState)(!1),v=Object(H.a)(E,2),y=v[0],_=v[1],T=Object(j.b)(),C=Object(j.c)((function(e){return e.authorization})).user,N=Object(o.g)(),P=Object(n.useCallback)((function(e){var t=e.target.value;i(t)}),[r]),D=Object(n.useCallback)((function(e){var t=e.target.value;b(t)}),[d]),w=Object(n.useCallback)((function(e){var t=e.target.value;h(t)}),[O]),A=Object(n.useCallback)((function(e){var t=e.target.value;S(t)}),[x]),F=Object(n.useCallback)((function(e){var t=e.target.checked;_(t)}),[y]),U=Object(n.useCallback)((function(a){a.preventDefault(),e.current.validateAll(),C?0===t.current.context._errors.length&&(T(I({title:r,description:d,price:O,location:x,willDeliver:y})),S(""),i(""),h(""),_(!1),b("")):N.push("/signin")}),[r,d,O,x,y,C]),k=Object(j.c)((function(e){return e.posts})).isAddProcessing;return Object(s.jsx)("div",{className:"poster-wrapper container",children:Object(s.jsxs)("div",{className:"poster-content",children:[Object(s.jsx)("div",{className:"row text-center ml-auto",children:Object(s.jsx)("h5",{children:"Create a New Post"})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)(ke.a,{onSubmit:U,ref:e,children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"title",children:"Title"}),Object(s.jsx)(Le.a,{id:"title",type:"text",name:"title",className:"form-control",value:r,onChange:P,placeholder:"title"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"description",children:"Description"}),Object(s.jsx)(Le.a,{id:"description",type:"text",className:"form-control",name:"description",value:d,onChange:D,placeholder:"description"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"price",children:"Price"}),Object(s.jsx)(Le.a,{id:"price",type:"text",name:"price",className:"form-control",value:O,onChange:w,placeholder:"price"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"location",children:"Location"}),Object(s.jsx)(Le.a,{id:"location",type:"text",name:"location",className:"form-control",value:x,onChange:A,placeholder:"location"})]}),Object(s.jsxs)("div",{className:"form-check",children:[Object(s.jsx)("input",{type:"checkbox",id:"willdeliver",name:"willdeliver",className:"form-check-input",checked:y,onChange:F}),Object(s.jsx)("label",{className:"form-check-label",htmlFor:"willdeliver",children:"WillDeliver"})]}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsxs)("button",{className:"btn btn-primary btn-block",children:[k&&Object(s.jsx)("span",{className:"spinner-border spinner-border-sm"}),"Submit"]})}),Object(s.jsx)(Ge.a,{style:{display:"none"},ref:t})]})})]})})},Qe=a(31),ze=a(234),He=a(235),Be=a(243),Je=a(115),qe=a.n(Je),Ye=a(236),We=a(221),Ke=a(227),Ve=a(241),Xe=Object(B.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1},link:{color:"white",textDecoration:"none","&:hover":{color:"white",textDecoration:"none"}},userinfo:{fontSize:"15px",color:"white"}}})),Ze=function(){var e=Xe(),t=Object(j.c)((function(e){return e.authorization})),a=t.isLoggedIn,r=t.user,i=Object(j.b)(),o=Object(n.useCallback)((function(e){i(R.logout()),i(L()),p(e)}),[]),l=c.a.useState(!1),u=Object(H.a)(l,2),d=u[0],b=u[1],m=c.a.useRef(null),p=function(e){m.current&&m.current.contains(e.target)||b(!1)};function O(e){"Tab"===e.key&&(e.preventDefault(),b(!1))}var h=c.a.useRef(d);return c.a.useEffect((function(){h.current=d}),[d]),Object(s.jsx)("div",{className:e.root,children:Object(s.jsx)(ze.a,{position:"fixed",color:"primary",children:Object(s.jsxs)(He.a,{children:[Object(s.jsx)(ce.a,{variant:"h6",className:e.title,children:"Strange Things"}),a?Object(s.jsxs)("div",{children:[Object(s.jsxs)(Pe.a,{ref:m,"aria-controls":d?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){b((function(e){return!e}))},className:e.userinfo,children:[Object(s.jsx)(qe.a,{}),r]}),Object(s.jsx)(Ke.a,{open:d,anchorEl:m.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,a=e.placement;return Object(s.jsx)(We.a,Object(z.a)(Object(z.a)({},t),{},{style:{transformOrigin:"bottom"===a?"center top":"center bottom"},children:Object(s.jsx)(K.a,{children:Object(s.jsx)(Ye.a,{onClickAway:p,children:Object(s.jsxs)(Ve.a,{autoFocusItem:d,id:"menu-list-grow",onKeyDown:O,children:[Object(s.jsx)(Be.a,{onClick:p,children:"Profile"}),Object(s.jsx)(Be.a,{onClick:p,children:"My account"}),Object(s.jsx)(Be.a,{onClick:o,children:"Logout"})]})})})}))}})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Pe.a,{children:Object(s.jsx)(Qe.a,{to:"/signin",className:e.link,children:"SignIn"})}),Object(s.jsx)(Pe.a,{children:Object(s.jsx)(Qe.a,{to:"/signup",className:e.link,children:"SignUp"})})]})]})})})},$e=Object(B.a)((function(e){return{root:{flexGrow:1},footer:{fontSize:"12px",textAlign:"center",padding:"1em"}}})),et=function(){var e=$e();return Object(s.jsx)("div",{className:e.root,children:Object(s.jsx)(ze.a,{position:"static",color:"primary",children:Object(s.jsx)(ce.a,{className:e.footer,children:"Strange Things @ 2020 - All rights reserved"})})})},tt=function(e){var t=e.children;return Object(s.jsxs)(c.a.Fragment,{children:[Object(s.jsx)(Ze,{}),t,Object(s.jsx)(et,{})]})},at=a(55),st=Object(B.a)((function(e){return{root:{minHeight:"calc(100vh - 125px)",margin:"90px 10px 0",maxWidth:"100%"}}})),nt=function(){var e=st(),t=Object(at.useToasts)().addToast,a=Object(j.b)(),c=Object(j.c)((function(e){return e.message})),r=c.message,i=c.success;return Object(n.useEffect)((function(){if(r){t(r,{appearance:i?"success":"error",autoDismiss:!0});var e=setTimeout((function(){return a({type:S})}),5e3);return function(){clearTimeout(e)}}}),[r]),Object(s.jsx)(tt,{children:Object(s.jsx)(J.a,{className:e.root,children:Object(s.jsxs)(q.a,{container:!0,spacing:3,children:[Object(s.jsx)(q.a,{container:!0,item:!0,md:9,spacing:3,children:Object(s.jsx)(Z,{})}),Object(s.jsx)(q.a,{container:!0,item:!0,md:3,spacing:3,className:"flex flex-column",children:Object(s.jsx)(Me,{})})]})})})},ct=function(e){var t=e.location;return Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("h1",{children:"404"}),Object(s.jsxs)("h2",{children:["No match found for ",Object(s.jsx)("code",{children:t.pathname})]})]})},rt=a(72),it=a.n(rt),ot=function(e){if(!e)return Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},lt=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useState)(""),c=Object(H.a)(a,2),r=c[0],i=c[1],l=Object(n.useState)(""),u=Object(H.a)(l,2),d=u[0],b=u[1],m=Object(o.g)(),p=Object(j.c)((function(e){return e.authorization})).isLoggedIn,O=Object(j.c)((function(e){return e.authorization})).isProcessing,h=Object(j.c)((function(e){return e.message})).message,f=Object(j.b)(),g=Object(n.useCallback)((function(e){var t=e.target.value;i(t)}),[r]),x=Object(n.useCallback)((function(e){var t=e.target.value;b(t)}),[d]),E=Object(n.useCallback)((function(a){a.preventDefault(),e.current.validateAll(),0===t.current.context._errors.length&&f(R.login(r,d))}),[r,d]);return Object(n.useEffect)((function(){var e=setTimeout((function(){return f({type:S})}),4e3);return function(){clearTimeout(e)}}),[h]),p?Object(s.jsx)(o.a,{to:"/"}):Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"card card-container",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(ne.a,{"aria-label":"",onClick:function(){return m.push("/")},children:Object(s.jsx)(it.a,{})})}),Object(s.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),h&&Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("div",{className:"alert alert-danger text-center pl-5 pr-5",role:"alert",children:h})}),Object(s.jsxs)(ke.a,{onSubmit:E,ref:e,children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"username",children:"Username"}),Object(s.jsx)(Le.a,{type:"text",className:"form-control",name:"username",value:r,onChange:g,validations:[ot]})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"password",children:"Password"}),Object(s.jsx)(Le.a,{type:"password",className:"form-control",name:"password",value:d,onChange:x,validations:[ot]})]}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsxs)("button",{className:"btn btn-primary btn-block",disabled:O,children:[O&&Object(s.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(s.jsx)("span",{children:"Sign In"})]})}),Object(s.jsxs)("div",{className:"form-group text-center",children:["Don't have an account? ",Object(s.jsx)(Qe.a,{to:"/signup",children:"Create One"})]}),Object(s.jsx)(Ge.a,{style:{display:"none"},ref:t})]})]})})},ut=function(e){if(!e)return Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},jt=function(e){if(e.length<3||e.length>20)return Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},dt=function(e){if(e.length<6||e.length>40)return Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})},bt=function(e,t,a){if(e!==a.password[0].value)return Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password doesn't match."})},mt=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useState)(""),c=Object(H.a)(a,2),r=c[0],i=c[1],l=Object(n.useState)(""),u=Object(H.a)(l,2),d=u[0],b=u[1],m=Object(j.c)((function(e){return e.message})).message,p=Object(j.c)((function(e){return e.authorization})).isLoggedIn,O=Object(j.c)((function(e){return e.authorization})).isProcessing,h=Object(j.b)(),f=Object(o.g)(),g=Object(n.useCallback)((function(e){var t=e.target.value;i(t)}),[r]),x=Object(n.useCallback)((function(e){var t=e.target.value;b(t)}),[d]),E=Object(n.useCallback)((function(a){a.preventDefault(),e.current.validateAll(),0===t.current.context._errors.length&&h(R.register(r,d))}),[r,d]);return Object(n.useEffect)((function(){var e=setTimeout((function(){return h({type:S})}),3e3);return function(){clearTimeout(e)}}),[m]),p?Object(s.jsx)(o.a,{to:"/"}):Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"card card-container",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(ne.a,{"aria-label":"",onClick:function(){return f.push("/")},children:Object(s.jsx)(it.a,{})})}),Object(s.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),m&&Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("div",{className:O?"alert alert-success":"alert alert-danger text-center pl-5 pr-5",role:"alert",children:m})}),Object(s.jsxs)(ke.a,{onSubmit:E,ref:e,children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"username",children:"Username"}),Object(s.jsx)(Le.a,{type:"text",className:"form-control",name:"username",value:r,onChange:g,validations:[ut,jt]})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"password",children:"Password"}),Object(s.jsx)(Le.a,{type:"password",className:"form-control",name:"password",value:d,onChange:x,validations:[ut,dt]})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"password",children:"Confirm Password"}),Object(s.jsx)(Le.a,{type:"password",className:"form-control",name:"password-confirm",validations:[ut,bt]})]}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsxs)("button",{className:"btn btn-primary btn-block",disabled:O,children:[O&&Object(s.jsx)("span",{className:"spinner-border spinner-border-sm"}),"Sign Up"]})}),Object(s.jsxs)("div",{className:"form-group text-center",children:["Already registered? ",Object(s.jsx)(Qe.a,{to:"/signin",children:"Signin"})]})]}),Object(s.jsx)(Ge.a,{style:{display:"none"},ref:t})]})]})})};var pt=function(){return Object(s.jsx)(o.c,{history:u,children:Object(s.jsxs)(o.d,{children:[Object(s.jsx)(o.b,{exact:!0,path:"/",component:nt}),Object(s.jsx)(o.b,{path:"/signin",component:lt}),Object(s.jsx)(o.b,{path:"/signup",component:mt}),Object(s.jsx)(o.b,{component:ct})]})})},Ot=a(42),ht=a(116),ft=a(117),gt={isLoggedIn:!1,user:null,isProcessing:!1},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0,a=t.type,s=t.payload;switch(a){case O:case b:return Object(z.a)(Object(z.a)({},e),{},{isProcessing:!0});case m:case h:return Object(z.a)(Object(z.a)({},e),{},{isProcessing:!1,isLoggedIn:!0,user:s});case p:case f:case g:return Object(z.a)(Object(z.a)({},e),{},{isProcessing:!1,isLoggedIn:!1,user:null});default:return e}},St={},Et=a(74),vt={isProcessing:!1,posts:[]},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0,a=t.type,s=t.payload;switch(a){case E.FETCH_POSTS_REQUEST:case E.DELETE_POST_REQUEST:case E.SEND_MESSAGE_REQUEST:return console.log("delete post request",e),Object(z.a)(Object(z.a)({},e),{},{isProcessing:!0});case E.ADD_POST_REQUEST:return Object(z.a)(Object(z.a)({},e),{},{isAddProcessing:!0});case E.FETCH_POSTS_SUCCESS:return Object(z.a)(Object(z.a)({},e),{},{isProcessing:!1,posts:s});case E.ADD_POST_SUCCESS:return Object(z.a)(Object(z.a)({},e),{},{isAddProcessing:!1,posts:[].concat(Object(Et.a)(e.posts),[s])});case E.ADD_POST_FAILURE:return Object(z.a)(Object(z.a)({},e),{},{isAddProcessing:!1});case E.DELETE_POST_SUCCESS:var n=e.posts.findIndex((function(e){return e._id===s})),c=[].concat(Object(Et.a)(e.posts.slice(0,n)),Object(Et.a)(e.posts.slice(n+1)));return Object(z.a)(Object(z.a)({},e),{},{isProcessing:!1,posts:c});case E.SEND_MESSAGE_SUCCESS:return e.posts[e.posts.findIndex((function(e){return e._id===s.id}))].messages.push(s.message),Object(z.a)(Object(z.a)({},e),{},{isProcessing:!1,posts:e.posts});case E.FETCH_POSTS_FAILURE:case E.DELETE_POST_FAILURE:return Object(z.a)(Object(z.a)({},e),{},{isProcessing:!1});default:return e}},_t=Object(Ot.c)({authorization:xt,message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0,a=t.type,s=t.payload;switch(a){case x:return{message:s.message,success:s.success};case S:return{message:""};default:return e}},posts:yt}),Tt=Object(ft.createLogger)(),Ct=Object(Ot.d)(_t,Object(Ot.a)(ht.a,Tt));i.a.render(Object(s.jsx)(j.a,{store:Ct,children:Object(s.jsx)(at.ToastProvider,{autoDismiss:!0,autoDismissTimeout:6e3,placement:"bottom-center",children:Object(s.jsx)(Q,{children:Object(s.jsx)(pt,{})})})}),document.getElementById("root"))}},[[178,1,2]]]);
//# sourceMappingURL=main.cbd06b7e.chunk.js.map